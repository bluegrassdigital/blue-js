{"version":3,"file":"blue.js","sources":["../modules/utils/classlist.js","../modules/dom/hasClass.js","../modules/dom/addClass.js","../modules/dom/removeClass.js","../modules/dom/toggleClass.js","../modules/lang/apply.js","../modules/dom/each.js","../modules/dom/filter.js","../modules/dom/getWindowDimensions.js","../modules/dom/isVisible.js","../modules/dom/isHidden.js","../modules/dom/onReady.js","../modules/dom/wrap.js","../modules/events/_listeners.js","../modules/events/listen.js","../modules/events/listenCollection.js","../modules/events/removeListeners.js","../modules/events/trigger.js","../modules/events/_createCustom.js"],"sourcesContent":["export function splitClass (str) {\n  return str.replace(/ {1,}/g, ',').split(',')\n}\n\nexport function filterClass (str, cls) {\n  return splitClass(str).filter(function (match) {\n    return match !== cls && match !== ''\n  }).join(' ')\n}\n","import { splitClass } from '../utils/classlist'\n/**\nCheck if an element has a class\n@param {HTMLElement} el The dom node\n@param {String} cls The classname to check\n@memberof module:blue\n@alias .hasClass\n@function\n*/\nexport default function hasClass (el, cls) {\n  return (el.classList && typeof el.classList.contains === 'function' && el.classList.contains(cls)) || splitClass(el.className).indexOf(cls) > -1\n}\n","import hasClass from './hasClass'\n/**\nAdd a class to an element\n\n@param {HTMLElement} el The dom node\n@param {String} cls The class to add\n@memberof module:blue\n@alias .addClass\n@function\n*/\nexport default function addClass (el, cls) {\n  if (el.classList && typeof el.classList.add === 'function') return el.classList.add(cls)\n  if (!hasClass(el, cls)) {\n    var spaceAtEnd = el.className.lastIndexOf(' ') === el.className.length - 1 ? '' : ' '\n    el.className += spaceAtEnd + cls\n  }\n}\n","import { filterClass } from '../utils/classlist'\n/**\nRemove a class from an element\n\n@param {HTMLElement} el The dom node\n@param {String} cls The class to remove\n@memberof module:blue\n@alias .removeClass\n@function\n*/\nexport default function removeClass (el, cls) {\n  if (el.classList && typeof el.classList.remove === 'function') return el.classList.remove(cls)\n  el.className = filterClass(el.className, cls)\n}\n","import hasClass from './hasClass'\nimport addClass from './addClass'\nimport removeClass from './removeClass'\n/**\nToggle a class on an element\n@param {HTMLElement} el The dom node\n@param {String} cls The class to toggle\n@memberof module:blue\n@alias .toggleClass\n@function\n*/\nexport default function toggleClass (el, cls) {\n  if (el.classList && typeof el.classList.toggle === 'function') return el.classList.toggle(cls)\n  if (hasClass(el, cls)) {\n    removeClass(el, cls)\n  } else {\n    addClass(el, cls)\n  }\n}\n","export default function apply (obj, fn) {\n  if (typeof obj.length !== 'undefined' && obj.length >= 0) {\n    for (var i = 0; i < obj.length; i++) {\n      fn(obj[i], i)\n    }\n  } else {\n    fn(obj)\n  }\n}\n","import apply from '../lang/apply'\n\n/**\nIterate over a dom NodeList\n\n@param {NodeList} els The NodeList (created using `getElementsByTagName` or `getElementsByClassName` or `querySelectorAll`) to loop over\n@param {Function} fn The function to run against each element. Arguments passed are the same as Array.forEach\n@memberof module:blue\n@alias .each\n@function\n*/\nexport default function each (els, fn) {\n  apply(els, fn)\n}\n","/**\nFilters a dom NodeList, returning an array of only those elements which match the predicate function\n\n@param {NodeList} els The NodeList (created using `getElementsByTagName` or `getElementsByClassName` or `querySelectorAll`) to filter\n@param {Function} fn The predicate function to test each Element against\n@returns {Array} A filtered array of dom elements\n@function\n@memberof module:blue\n@alias .filter\n@example\nFilter only foo links with class 'bar':\n```js\nimport { filter } from 'blue-js'\n\nconst fooLinks = document.querySelectorAll('a.foo')\nconst filteredLinks = filter(fooLinks, el => dom.hasClass(el, 'bar'))\n```\n\nFilter only visible filteredLinks:\n```js\nimport { filter } from 'blue-js'\n\nconst fooLinks = document.querySelectorAll('a.foo')\nconst newFilteredLinks = filter(filteredLinks, dom.isVisible)\n```\n*/\nexport default function filter (els, fn) {\n  if (!fn) return els\n  return Array.prototype.filter.call(els, fn)\n}\n","/**\nCross browser funtion for getting the dimensions of the window\n@param {object} [w=window] The window element\n@param {object} [d=document] The document element\n@returns {windowDimensions} The window dimensions\n@function\n@memberof module:blue\n@alias .getWindowDimensions\n*/\nexport default function getWindowDimensions (w, d) {\n  w = w || window\n  d = d || document\n  var e = d.documentElement\n  var g = d.getElementsByTagName('body')[0]\n  var width = w.innerWidth || e.clientWidth || g.clientWidth\n  var height = w.innerHeight || e.clientHeight || g.clientHeight\n\n  return {\n    width: width,\n    height: height\n  }\n}\n\n/**\n@typedef {Object} windowDimensions\n@property {number} width Window width\n@property {number} height Window height\n@memberof module:blue\n */\n","/**\nCheck whether an element is visible\n\n@param {HTMLElement} el The dom node\n@returns {Boolean} True if `el` is visible, otherwise false\n@memberof module:blue\n@alias .isVisible\n*/\nexport default function isVisible (el) {\n  return !!(el.offsetWidth || el.offsetHeight || el.getClientRects().length)\n}\n","import isVisible from './isVisible'\n\n/**\nCheck whether an element is hidden\n@param {HTMLElement} el The dom node\n@returns {Boolean} True if `el` is visibly hidden, otherwise false\n@memberof module:blue\n@alias .isHidden\n@function\n*/\nexport default function isHidden (el) {\n  return !isVisible(el)\n}\n","/**\nA callback that fires when the document is ready - roughly equaivalent to jQuery document ready\n\n@param {Function} fn The callback to fire\n@memberof module:blue\n@alias .onReady\n@function\n*/\nexport default function onReady (fn) {\n  if (\n    document.readyState === 'complete' ||\n    (document.readyState !== 'loading' && !document.documentElement.doScroll)\n  ) {\n    fn()\n  } else {\n    document.addEventListener('DOMContentLoaded', fn)\n  }\n}\n","/**\nWrap an html element with another element or with a wrap function\n\n@param {HTMLElement} el The dom node\n@param {(Function|HTMLElement|string)} argument1 A callback function which is passed `el.outerHTML` as its only function parameter OR a dom node to wrap around the element OO the first of two string arguments to go before and after the element\n@param {string} [argument2] The string to use for after the dom element (both `argument1` and `argument2` should be strings)\n@memberof module:blue\n@alias .wrap\n@function\n@example\nUsing a wrapper function:\n```js\nimport { wrap } from 'blue-js'\n\nconst foo = document.querySelector('#foo')\nwrap(foo, html => `<div class=\"wrapper\">${html}</div>`)\n```\n@example\nUsing an html element:\n```js\nimport { wrap } from 'blue-js'\n\nconst foo = document.querySelector('#foo')\nconst wrapper = document.createElement('div')\nwrap(foo, wrapper)\n```\n@example\nUsing two strings:\n```js\nimport { wrap } from 'blue-js'\n\nconst foo = document.querySelector('#foo')\nwrap(foo, '<div class=\"wrapper\">', '</div>')\n```\n*/\nexport default function wrap (el) {\n  var newDiv = arguments[1].nodeName ? arguments[1] : document.createElement('div')\n  var parent = el.parentNode\n  parent.insertBefore(newDiv, el)\n  if (typeof arguments[1] === 'function') {\n    newDiv.outerHTML = arguments[1]('')\n  }\n  if (typeof arguments[1] === 'string' && typeof arguments[2] === 'string') {\n    newDiv.outerHTML = arguments[1] + arguments[2]\n  }\n  if (typeof arguments[1] === 'string' && typeof arguments[2] === 'undefined') {\n    newDiv.outerHTML = arguments[1]\n  }\n  var wrapper = el.previousSibling\n  wrapper.appendChild(el)\n}\n","var listeners = []\n\nexport function addListener (el, evt, fn, capture) {\n  el.addEventListener(evt, fn, capture)\n  listeners.push({\n    el: el,\n    evt: evt,\n    fn: fn,\n    capture: capture\n  })\n}\n\nexport function removeListener (el, evt) {\n  var filteredListeners = []\n\n  for (var i = 0; i < listeners.length; i++) {\n    var listener = listeners[i]\n    if (listener.el === el && listener.evt === evt) {\n      listener.el.removeEventListener(listener.evt, listener.fn, listener.capture)\n    } else {\n      filteredListeners.push(listener)\n    }\n  }\n\n  listeners = filteredListeners\n}\n\nexport function removeSpecificListeners (el, names, fn, capture) {\n  names.forEach(function (evt) {\n    el.removeEventListener(evt, fn, capture)\n  })\n}\n\nexport function listenMultipleEvents (el, evts, fn, capture) {\n  capture = !!capture\n  evts.forEach(function (evt) {\n    addListener(el, evt, fn, capture)\n  })\n}\n\nexport function removeMultipleListeners (el, evts) {\n  evts.forEach(function (evt) {\n    removeListener(el, evt)\n  })\n}\n","import { listenMultipleEvents, removeSpecificListeners } from './_listeners'\n\n/**\nListen for one or more events (custom or standard)\n\n@param {HTMLElement} el The dom element\n@param {String} names The event or events (space-separated) to listen for\n@param {Function} fn The callback to fire when the event occurs\n@param {Boolean} capture Whether to capture the event or not\n@returns {{remove: function}} An object with a `remove` method to remove the listener later\n@example\nAdd a listener:\n```js\nimport { listen } from 'blue-js'\n\nconst fooLink = document.querySelector('a.foo')\n\nlisten(fooLink, 'click', (event) => {\n  event.preventDefault()\n  const { target } = event\n  target.classlist.add('.is-clicked')\n})\n```\n@example\nRemove listener later:\n```js\nimport { listen } from 'blue-js'\n\nconst fooLink = document.querySelector('a.foo')\n\nconst listener = listen(fooLink, 'click', (event) => {\n  event.preventDefault()\n  const { target } = event\n  target.classlist.add('.is-clicked')\n})\n//Some time later\nlistener.remove()\n```\n@example\nRemove listener immediately:\n```js\nimport { listen } from 'blue-js'\n\nconst fooLink = document.querySelector('a.foo')\n\nconst listener = listen(fooLink, 'click', (event) => {\n  event.preventDefault()\n  const { target } = event\n  target.classlist.add('.is-clicked')\n  listener.remove()\n})\n```\n@memberof module:blue\n@alias .listen\n@function\n*/\nexport default function listen (el, names, fn, capture) {\n  capture = !!capture\n  names = names.split(' ')\n  listenMultipleEvents(el, names, fn, capture)\n  return {\n    remove: removeSpecificListeners.bind(this, el, names, fn, capture)\n  }\n}\n","import listen from './listen'\nimport apply from '../lang/apply'\n\n/**\nSame as events.listen, excpet for NodeList rather than a single Element\n\n@param {NodeList} els The dom collection\n@param {String} names The event or events (space-separated) to listen for\n@param {Function} fn The callback to fire when the event occurs\n@param {Boolean} capture Whether to capture the event or not\n@memberof module:blue\n@alias .listenCollection\n@function\n*/\nexport default function listenCollection (els, names, fn, capture) {\n  capture = !!capture\n  apply(els, function (el) {\n    listen(el, names, fn, capture)\n  })\n}\n","import apply from '../lang/apply'\nimport { removeMultipleListeners } from './_listeners'\n\n/**\n * Remove one or more events from one or more targets\n@param {HTMLElement} els The dom element or any iterable containing dom elements (eg. NodeList)\n@param {String} names The event or events (space separated) to remove the listeners for\n@memberof module:blue\n@alias .removeListeners\n@function\n@example\n```js\nimport { removeListeners } from 'blue-js'\n\nconst fooLinks = document.querySelectorAll('a.foo')\nremoveListeners(fooLinks, 'click mouseenter')\n```\n*/\nexport default function removeListeners (els, names) {\n  var eventNames = names.split(' ')\n  apply(els, function (el) {\n    removeMultipleListeners(el, eventNames)\n  })\n}\n","import createCustom from './_createCustom'\n/**\nTrigger any event on a dom element, optionally pass data\n@param {HTMLElement} el The dom node\n@param {String} name The event to trigger\n@param {Object} [data] The data to pass along with the event\n@param {Object} [eventProps] Other event properties to override the defaults, which are `{ bubbles: true, cancelable: true }`\n@example\n```js\nimport { listen, trigger } from 'blue-js'\n\nconst fooLink = document.querySelector('a.foo')\ntrigger(fooLink, 'Link:Event', { foo: 'bar' })\n\n// Listen for custom event and use the custom data passed to trigger\nlisten(fooLink, 'Link:Event', event => {\n  console.log(event.detail.foo) // -> 'bar'\n})\n```\n@memberof module:blue\n@alias .trigger\n@function\n*/\nexport default function trigger (el, name, data, eventProps) {\n  el.dispatchEvent(createCustom(name, data, eventProps))\n}\n","export default function createCustom (name, data, eventProps) {\n  function CustomEvent (event, params) {\n    var evt = document.createEvent('CustomEvent')\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail)\n    return evt\n  }\n  CustomEvent.prototype = window.Event.prototype\n  data = data || {}\n  eventProps = eventProps || {}\n  var UseEvent = typeof window.CustomEvent === 'function' ? window.CustomEvent : CustomEvent\n  var params = {\n    detail: data,\n    bubbles: typeof eventProps.bubbles === 'boolean' ? eventProps.bubbles : true,\n    cancelable: typeof eventProps.cancelable === 'boolean' ? eventProps.cancelable : true\n  }\n  return new UseEvent(name, params)\n}\n"],"names":["splitClass","str","replace","split","hasClass","el","cls","classList","contains","className","indexOf","addClass","add","spaceAtEnd","lastIndexOf","length","removeClass","remove","filter","match","join","filterClass","toggleClass","toggle","apply","obj","fn","i","each","els","Array","prototype","call","getWindowDimensions","w","d","window","e","document","documentElement","g","getElementsByTagName","width","innerWidth","clientWidth","height","innerHeight","clientHeight","isVisible","offsetWidth","offsetHeight","getClientRects","isHidden","onReady","readyState","doScroll","addEventListener","wrap","newDiv","arguments","nodeName","createElement","parentNode","insertBefore","outerHTML","previousSibling","appendChild","listeners","removeSpecificListeners","names","capture","forEach","evt","removeEventListener","listenMultipleEvents","evts","push","addListener","removeMultipleListeners","filteredListeners","listener","removeListener","listen","bind","this","listenCollection","removeListeners","eventNames","trigger","name","data","eventProps","dispatchEvent","CustomEvent","event","params","createEvent","initCustomEvent","bubbles","cancelable","detail","Event","createCustom"],"mappings":"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"}